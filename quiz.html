<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Feline Authority Test - MeowBTI</title>
    <style>
        /* Base Styles - NO max-width on the body */
        body { 
            font-family: 'Arial', sans-serif; 
            margin: 0;
            text-align: center; 
            background-color: #f7f7f7;
        }

        /* --- START: LAYOUT FIXES --- */
        
        /* Full-width Header */
        .main-header {
            background-color: #333;
            color: white;
            padding: 15px 30px;
            width: 100%;
            box-sizing: border-box;
        }
        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
        }
        .logo-link { text-decoration: none; color: white; }
        .logo-text { font-size: 1.6em; font-weight: bold; }
        .logo-tagline { font-size: 0.8em; color: #ccc; }
        
        .main-nav ul { display: flex; align-items: center; list-style: none; margin: 0; padding: 0; gap: 30px; }
        .main-nav a { color: #f0f0f0; text-decoration: none; font-weight: bold; font-size: 1em; transition: color 0.2s; }
        .main-nav a:hover { color: #ffffff; }
        .nav-cta a { background-color: #6a0dad; color: white; padding: 12px 22px; border-radius: 8px; transition: background-color 0.2s; }
        .nav-cta a:hover { background-color: #560a8c; color: white; }

        /* Main Content Container for the quiz */
        .quiz-main-container {
            max-width: 700px;
            margin: 40px auto; /* Adds space above and below */
            padding: 0 20px;
        }

        /* Full-width Footer */
        .site-footer {
            background-color: #f0f0f0; 
            padding: 25px 30px; 
            color: #555; 
            border-top: 1px solid #ddd;
            width: 100%;
            box-sizing: border-box;
        }
        .footer-content {
            max-width: 700px;
            margin: 0 auto;
            text-align: center;
        }
        /* --- END: LAYOUT FIXES --- */

        /* Progress Bar & Page Number */
        .quiz-header { margin-bottom: 25px; }
        .progress-bar { height: 10px; background-color: #ddd; border-radius: 5px; margin-bottom: 10px; }
        .progress-fill { height: 100%; background-color: #6a0dad; width: 0%; transition: width 0.3s; border-radius: 5px; }
        #page-number { color: #555; }

        /* Styles for the question page */
        #question-page { background-color: white; border: 1px solid #ccc; padding: 20px 30px; border-radius: 10px; box-shadow: 0 4px 8px rgba(0,0,0,0.1); }
        .question-block { text-align: left; margin-bottom: 30px; border-bottom: 1px solid #eee; padding-bottom: 20px; }
        .question-block:last-child { border-bottom: none; margin-bottom: 0; padding-bottom: 10px; }
        .question-text { font-size: 1.2em; font-weight: bold; color: #222; margin-bottom: 15px; }
        .option-label { display: block; padding: 12px 15px; margin-top: 8px; border: 2px solid #ddd; border-radius: 5px; cursor: pointer; transition: all 0.2s; }
        .option-label:hover { border-color: #6a0dad; background-color: #f9f4fd; }
        input[type="radio"] { display: none; }
        input[type="radio"]:checked + .option-label { background-color: #6a0dad; color: white; border-color: #6a0dad; }

        /* Next Button */
        #next-button {
            display: inline-block; padding: 15px 50px; margin-top: 30px;
            border: none; background-color: #6a0dad; color: white;
            cursor: pointer; border-radius: 5px; font-size: 1.2em; font-weight: bold;
            transition: background-color 0.2s;
        }
        #next-button:hover { background-color: #560a8c; }

        /* Result Screen */
        #result-screen { display: none; background-color: white; padding: 40px; border-radius: 10px; box-shadow: 0 4px 8px rgba(0,0,0,0.1); }
        #final-type-code { font-size: 3em; color: #6a0dad; margin: 10px 0; }
        .result-button {
            display: block; width: 100%; padding: 15px; margin-top: 15px; box-sizing: border-box;
            background-color: #6a0dad; color: white; cursor: pointer; border-radius: 5px; font-size: 1.1em;
            text-decoration: none;
        }

        .sponsor-text { margin: 0 0 10px 0; font-size: 0.9em; }
        .sponsor-logo { max-height: 50px; margin-bottom: 20px; }
        .disclaimer { font-size: 0.75em; color: #999; text-align: left; }
    </style>
</head>
<body>

    <header class="main-header">
        <div class="header-container">
            <a href="index.html" class="logo-link">
                <span class="logo-text">16 Cat Personalities</span>
                <span class="logo-tagline">(MeowBTI)</span>
            </a>
            <nav class="main-nav">
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="personality-types.html">Personality Types</a></li>
                    <li><a href="#">Product</a></li>
                    <li class="nav-cta"><a href="quiz.html">Take the Test</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="quiz-main-container">
        <div id="quiz-container">
            <div class="quiz-header">
                <div class="progress-bar"><div id="progress-fill" class="progress-fill"></div></div>
                <p id="page-number">Page 1 of 6</p>
            </div>
            
            <div id="question-page">
                </div>

            <button id="next-button">Next</button>
        </div>

        <div id="result-screen">
            <h2>Your Cat's Type Is:</h2>
            <h1 id="final-type-code"></h1>
            <p id="final-type-name" style="font-size: 1.5em;"></p>
            <p>Congratulations! Click below to view the full personality report.</p>
            <a href="#" id="report-link" class="result-button">View Full Report</a>
        </div>
    </main>

    <footer class="site-footer">
        <div class="footer-content">
            <p class="sponsor-text">Sponsored by</p>
            <img src="CATGUY-04.png" alt="Catguy Logo" class="sponsor-logo">
            <div class="disclaimer">
                Disclaimer: This test is a fun, derivative personality assessment based on common psychological types and is not affiliated with the official MBTIÂ® or The Myers & Briggs Foundation.
            </div>
        </div>
    </footer>

    <script>
        // --- Your Quiz JavaScript Goes Here (No changes needed) ---
        const questions = [
            // Your full list of 57 questions...
            ['When a new human guest enters the house, your cat:', 'Commands the room, immediately moving to greet/inspect the guest.', 'Retreats to a private, secure spot to watch from afar.', 'CS', 'C'],
            ['When hungry, your cat is more likely to:', 'Give a sharp, insistent demand or perform a strategic obstruction.', 'Sit nearby with a soulful gaze and a gentle, pleading meow.', 'BN', 'B'],
            // ... all other questions ...
            ['Your cat is more comfortable:', 'Once a routine is established.', 'While the routine is still flexible.', 'RC', 'R'],
        ];

        const typeNames = {
            'CHBR': 'The Grand General', 'CHNR': 'The Affectionate Warden', 'CDBR': 'The Visionary Supervisor', 'CDNR': 'The Charismatic Counselor', 
            'SHBR': 'The Silent Strategist', 'SHNR': 'The Gentle Defender', 'SDBR': 'The Observant Theorist', 'SDNR': 'The Empathetic Muse', 
            'CHBC': 'The Street CEO', 'CHNC': 'The Party Starter', 'CDBC': 'The Wild Debater', 'CDNC': 'The Joyful Performer', 
            'SHBC': 'The Master Tinkerer', 'SHNC': 'The Emotional Artist', 'SDBC': 'The Free Spirit', 'SDNC': 'The Peaceful Dreamer',
        };

        const questionsPerPage = 10;
        const totalPages = Math.ceil(questions.length / questionsPerPage);
        let currentPage = 0;
        const userAnswers = {};

        const questionPageContainer = document.getElementById('question-page');
        const nextButton = document.getElementById('next-button');
        const pageNumberEl = document.getElementById('page-number');
        const progressFillEl = document.getElementById('progress-fill');

        function displayCurrentPage() {
            questionPageContainer.innerHTML = '';
            const start = currentPage * questionsPerPage;
            const end = Math.min(start + questionsPerPage, questions.length);
            const pageQuestions = questions.slice(start, end);

            pageQuestions.forEach((q, index) => {
                const questionIndex = start + index;
                const questionBlock = document.createElement('div');
                questionBlock.className = 'question-block';
                questionBlock.innerHTML = `
                    <p class="question-text">${questionIndex + 1}. ${q[0]}</p>
                    <div>
                        <input type="radio" name="q${questionIndex}" id="q${questionIndex}a" value="A">
                        <label for="q${questionIndex}a" class="option-label">${q[1]}</label>
                        <input type="radio" name="q${questionIndex}" id="q${questionIndex}b" value="B">
                        <label for="q${questionIndex}b" class="option-label">${q[2]}</label>
                    </div>
                `;
                questionPageContainer.appendChild(questionBlock);
            });

            pageNumberEl.textContent = `Page ${currentPage + 1} of ${totalPages}`;
            progressFillEl.style.width = `${((currentPage) / totalPages) * 100}%`;
            if (currentPage === totalPages - 1) {
                nextButton.textContent = 'Finish & See Results';
            }
        }

        nextButton.addEventListener('click', () => {
            const start = currentPage * questionsPerPage;
            const end = Math.min(start + questionsPerPage, questions.length);
            let allAnswered = true;

            for (let i = start; i < end; i++) {
                const answer = document.querySelector(`input[name="q${i}"]:checked`);
                if (!answer) {
                    allAnswered = false;
                    break;
                }
                userAnswers[i] = answer.value;
            }

            if (!allAnswered) {
                alert('Please answer all questions before proceeding!');
                return;
            }

            currentPage++;
            if (currentPage < totalPages) {
                displayCurrentPage();
                window.scrollTo(0, 0);
            } else {
                calculateAndShowResults();
            }
        });

        function calculateAndShowResults() {
            let scores = { 'CS': 0, 'HD': 0, 'BN': 0, 'RC': 0 };
            for (let i = 0; i < questions.length; i++) {
                if (userAnswers[i] === 'A') {
                    const axis = questions[i][3];
                    scores[axis]++;
                }
            }
            
            const letter1 = (scores['CS'] > 7) ? 'C' : 'S'; 
            const letter2 = (scores['HD'] > 7) ? 'H' : 'D'; 
            const letter3 = (scores['BN'] > 7) ? 'B' : 'N';
            const letter4 = (scores['RC'] > 8) ? 'R' : 'C';
            
            const finalCode = letter1 + letter2 + letter3 + letter4;
            const finalName = typeNames[finalCode] || 'Unknown Type';

            document.querySelector('.quiz-main-container').innerHTML = `
                <div id="result-screen" style="display: block;">
                    <h2>Your Cat's Type Is:</h2>
                    <h1 id="final-type-code">${finalCode}</h1>
                    <p id="final-type-name" style="font-size: 1.5em;">${finalName}</p>
                    <p>Congratulations! Click below to view the full personality report.</p>
                    <a href="${finalCode}.html" id="report-link" class="result-button">View Full Report</a>
                </div>
            `;
        }

        window.onload = displayCurrentPage;
    </script>
</body>
</html>
